<html>
<head>
  <title>1일차</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308474 (ko-KR, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2018"/>
<h1>1일차</h1>

<div>
<span bgcolor="#FFFFFF"><div><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>1일차</h1><b>작성자:</b> includesorrow@gmail.com<br/></td></tr></table></div><div><div><div><div>DBMS - 데이터베이스 관리 시스템</div><div><br/></div><div><br/></div><div><br/></div><div>파일시스템의 문제점</div><ul><li><div>운영프로그램에 종속적이다.</div></li><li><div>데이터의 중복을 해결할 수가 없다.</div></li><li><div>오라클db는 통합된 데이터로써 중복을 방지함을 원칙으로 한다.</div></li></ul><div><br/></div><div>통합데이터</div><div>저장데이터</div><div>공용데이터</div><ul><li><div>여러 사용자들이 공유가 가능해야 한다.</div></li></ul><div>응용데이터</div><div><br/></div><div><br/></div><div>데이터베이스특징</div><ul><li><div>리얼타임(실시간접근성)</div></li><li><div>지속적인 변화에 대해서 최신 정보가 저장되어야 한다.</div></li><li><div>동시공유</div></li></ul><div><br/></div><div><br/></div><div>데이터베이스관리시스템에 대한 개요</div><div><br/></div><ul><li><div>DBMS는 데이터베이스매니지먼트시스템</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>파일                        DBMS</div><div>응용SW - FILE        응용SW -&gt; DBMS -&gt;DB (같은DBMS, DB바라봄)</div><div>응용SW - FILE        응용SW -&gt; DBMS -&gt; DB</div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div>최고권한 : sys</div><div>그다음 권한 : system</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><ol><li><div>오라클 설치 이후에 SQLPlus에 접속한다</div></li></ol><div><br/></div><ol start="2"><li><div>SQLPlus와 SQL 명령어의 차이를 설명한다.</div></li><ol><li><div>SQL명령문은 :을 반드시 붙여야 한다</div></li><li><div>SQLPlus 명령어는 반드시 Oracle에서만 사용이 가능하다.</div></li><ol><li><div>SQL 명령문</div></li></ol></ol></ol><div>                                <img src="1일차 [2]_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div>                                2. SQLPlus 명령문</div><div><img src="1일차 [2]_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>                            3.SQLPlus는 응용 프로그램이다.</div><div><br/></div><div>        3. 일반 사용자 추가하기</div><ul><ul><li><div>sys권한으로 추가되어야 한다.</div></li><li><div><img src="1일차 [2]_files/Image [3].png" type="image/png" data-filename="Image.png"/></div></li></ul></ul><div><br/></div><ul><ul><li><div><img src="1일차 [2]_files/Image [4].png" type="image/png" data-filename="Image.png"/></div></li><li><div>users : 테이블스페이스 / 동. </div></li><li><div>빅데이터라는 아이디를 가지고 비밀번호는 big이라는 것을 사용하겠다. 테이블스페이스는 users안에다가.</div></li><li><div>테이블스페이스는 만들어졌지만 접속이 안된다.</div></li><ul><li><div>소유권이 없다. 그래서 grant를 준다. </div></li><ul><li><div>어떤 권한? -&gt; resource, connect, create 권한을 준다.</div></li><li><div>view는 개발자 권한이면 준다. (누구한테? bigdata라는 사용자한테.)</div></li></ul><li><div>현재 문서만 작성했지 실행은 안됐다. </div></li></ul></ul></ul><div><img src="1일차 [2]_files/Image [5].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><img src="1일차 [2]_files/Image [6].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>Select * from tab;</div><div>Select * from tab</div><div>-&gt; ;붙여야 작동. tab은 2 만 뜨고 계속 대기중</div><div><br/></div><div>; 붙이면 SQL명령어.</div><div><br/></div><div><br/></div></div><div><br/></div></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>2일차</h1><b>작성자:</b> includesorrow@gmail.com<br/></td></tr></table></div><div><div><div><div><div><div><div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">DQL (Query)</span></div><div><br/></div><ul><li><div>Querry Language</div></li></ul><div><br/></div><div><br/></div><ul><li><div>Select(데이터 검색)</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">DML (조작)</span></div><ul><li><div>*****Insert, Update, delete</div></li><li><div>데이터 자료와 관련되어 있음. </div></li><li><div>Commit을 하지 않으면 복구할 수 있다. </div></li></ul><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">DDL(정의어)</span></div><ul><li><div>Create Drop등</div></li><li><div>TCL 중에 Commit이 내장되어 있다. Rename하더라도 기존의 작업이 Commit이 되버린다.</div></li><li><div><br/></div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>Commit</div><ul><ul><li><div>정상적으로 처리하겠다는 구문. 이거 안하면 저장안됨.</div></li></ul></ul><div><br/></div><div>딕셔너리</div><div><img src="1일차 [2]_files/Image [7].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>DBA내에 있으면 DBA만 가능</div><div><br/></div><div><br/></div><div>User</div><ul><li><div>권한을 주기 전에는 본인것만 가능.</div></li><li><div>Resource. </div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>부서</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr></tbody></table><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>사원</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr></tbody></table><div><br/></div></div></div><div>부서에서 사원을 볼때 참조키, JOIN 등을 한다.</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>sqlplus bigdata/big</div><div><br/></div><div><br/></div><div><br/></div><div>show user</div><div><br/></div><div>ed create_Dept</div><ul><li><div>deptno number(3),</div></li><li><div>dname varchar2(14),</div></li><li><div>loc varchar2(12)</div></li><li><div>);</div></li></ul><div><br/></div><div><br/></div><div>*****제약조건 : 테이블 생성시 테이블 단위의 제약조건과 컬럼단위의 제약조건의 못옴.</div><div>단, not null은 Column단위의 제약조건만 허용</div><div><br/></div><div><br/></div><ul><li><div>select * from tab;</div></li><li><div>select tname, tabtype from tab;</div></li></ul><div><br/></div><div>주석다는법 : --</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [8].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div>select * from tab; 목록확인</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>테이블 구조 확인</div><div>desc dept</div><div><img src="1일차 [2]_files/Image [9].png" type="image/png" data-filename="Image.png"/></div><ul><li><div>DEPTNO = 정수</div></li><li><div>DNAME = </div></li></ul><div><br/></div><div><br/></div><div>기본 dept 테이블에 자료를 입력해보자.</div><div><br/></div><div>Insert into (컬럼명, 컬럼명, ....) values(값, 값...) : not null은 생략될 수 없다.</div><div><br/></div><ul><li><div>문자열의 경우는 ' '</div></li><li><div>정수나 함수는 그냥 사용</div></li><li><div><br/></div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>Insert into values(컬럼의 순서대로 값을 입력)</div><div><br/></div><div><img src="1일차 [2]_files/Image [10].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><img src="1일차 [2]_files/Image [11].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>rollback =&gt; 커밋이 되는 구간전까지 .</div><div><br/></div><hr/><div>테이블삭제</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [13].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><ul><li><div>휴지통에 남아있는 상태.</div></li></ul><div><br/></div><hr/><div>휴지통비우기</div><div><br/></div><div><img src="1일차 [2]_files/Image [14].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><hr/><div><br/></div><div>제약조건넣기</div><div><font style="font-size: 18pt;"><br/></font></div><div><span style="font-size: 18pt;">--create table dept(</span></div><div><span style="font-size: 18pt;">--deptno number(3),</span></div><div><span style="font-size: 18pt;">--dname varchar2(14),</span></div><div><span style="font-size: 18pt;">--loc varchar2(12)</span></div><div><span style="font-size: 18pt;">--);</span></div><div><span style="font-size: 18pt;">--제약조건을 명시한 테이블 생성</span></div><div><font style="font-size: 16pt;"><br/></font></div><div><span style="font-size: 16pt;">create table</span> <span style="font-size: 16pt; font-weight: bold;">dept</span><span style="font-size: 16pt;">(</span></div><div><span style="font-size: 16pt; color: rgb(255, 70, 53);">deptno</span> <span style="font-size: 16pt;">number(3) constraint dept_deptno_pk primary key, //컬람단위의 제약조건</span></div><div><font style="font-size: 16pt;"><br/></font></div><div><span style="font-size: 16pt;">dname varchar2(14),</span></div><div><span style="font-size: 16pt;">loc varchar2(12),</span></div><div><span style="font-size: 16pt;">constraint</span> <span style="font-size: 16pt; font-weight: bold;">dept</span><span style="font-size: 16pt;">_</span><span style="font-size: 16pt; color: rgb(255, 70, 53);">deptno</span><span style="font-size: 16pt;">_pk primary key(deptno),//테이블단위의 제약조건</span></div><div><span style="font-size: 16pt;">constraint dept_dname_uq unique(dname)</span></div><div><span style="font-size: 14pt;">);</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt;">UNIQUE : 이 조건이 설정된 컬럼에는 중복된 값이 입력되지 못하도록 한다.</span></div><div><span style="font-size: 14pt;">PRIMARY KEY : 이 조건은 NOT NULL + UNIQUE의 특징을 가지며, 테이블끼리의 유일성을 가지게 한다.</span></div><div><br/></div><div><br/></div><hr/><div>제약조건확인</div><div><br/></div><div><br/></div><div>2가지</div><div><br/></div><div><img src="1일차 [2]_files/Image [15].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [16].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>유저의 권한 : 딕셔너리</div><div><br/></div><div>-&gt; 아무나 볼 수 업는 딕셔너리. 소유의 권한이 있다.</div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div>**dept no 는 notnull</div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div>유니크는 null을 허용한다.</div><div><br/></div><div>중복은 허용하지 않는다.</div><div><br/></div><div>primarykey는 null 중복 다 비허용</div><div><br/></div><div>테스트 시연</div><div><br/></div><div><img src="1일차 [2]_files/Image [17].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div>친숙해지기</div><div><br/></div><div>데이터삭제</div><div><br/></div><div><img src="1일차 [2]_files/Image [18].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div>**commit은 필수</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>데이터 중복</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [19].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>오늘할일</div><div>테이블제약조건</div><div>*JDBC연동 - insert문만구현</div><div><br/></div><div>*연습문제) 사원 테이블</div><div>*JDBC 연동해서 INSERT문 구현</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>오전에 중요한거</div><div><br/></div><div><img src="1일차 [2]_files/Image [20].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>부서번호</div><div>부서이름</div><div>부서지역</div><div><br/></div><div><br/></div><div>부서가 부모</div><div>게시판은 부모고 댓글이 </div><div><br/></div><div>참조한다는것은 자식이 부모를 참조하는거임</div><div><br/></div><div>테이블간의 관계가있다</div><div>기본관계는 부모의 프라이머리키를 자식의 PK로 참조하지 않는거임.</div><ul><li><div>비식별관계</div></li></ul><div><br/></div><div><br/></div><div>테이블단위, 컬럼단위로 primary</div><div>낫넛은 테이블단위는 안됨.</div><div><br/></div></div><div><br/></div><div><img src="1일차 [2]_files/KakaoTalk_20190125_144018873.jpg" type="image/jpeg" data-filename="KakaoTalk_20190125_144018873.jpg"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div>사원테이블 만들기</div><ul><li><div>Char(고정)</div></li><li><div>varChar2(가변길이)</div></li></ul><div><br/></div><div>Char는 10으로 설정하고 5만 넣어도 10임</div><div>varchar2는 20으로 설정하고 10만 넣으면 10임. 대신 20이 넘으면 오버플로우 발생</div><div><br/></div><div><br/></div><div>create table sawon(</div><div>sabun number(3),</div><div>saname varchar2(30),</div><div>deptno number(3),</div><div>sajob varchar2(20),</div><div>sapay number(10),</div><div>sahire date default sysdate,</div><div>sgender varchar2(5),</div><div>samgr number(3),</div><div><br/></div><div><br/></div><div><br/></div><div>constraint sawon_sabun_pk primary key(sabun),</div><div><br/></div><div><br/></div><div>sawon에 sabun에 pk(이건 무슨제약인지 알기위해)</div><div><br/></div><div><img src="1일차 [2]_files/Image [21].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-weight: bold;">JDBC</span></font></div><div><br/></div><div>JDBC사용 (절차 - 소스코드 참조)</div><div><br/></div><ul><li><div>Ojdbc6.jar 라이브러리를 프로젝트에 포함</div></li><li><div>라이브러리 - 오른쪽 - (add jar)</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div>// 1. JDBC 드라이버 연결 - 클래스로딩</div><div>            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);</div><div>            // 2. Connection 획득 - 기능에 따라서 객체화시켜줌.</div><div>            //여기에 newinstance()가 캡슐화가 되어있다.</div><div>            String url = &quot;jdbc:oracle:thin:@localhost:15221:xe&quot;;</div><div>            String user = &quot;bigdata&quot;;</div><div>            String pwd = &quot;big&quot;;</div><div>            con = DriverManager.getConnection(url, user, pwd);</div><div>            </div><div>            //3. PreparedStatement 값을 바인딩(?)한다.</div><div>            String sql = &quot;&quot;;</div><div>            pstmt = con.prepareStatement(sql);</div><div>            //PreparedStatement 객체를 사용해서 전송</div><div>            System.out.println(&quot;출력&quot;  + con);</div><div>            //Connectionoracle.jdbc.driver.T4CConnection@4629104a</div><div>            //Statement 객체 이건 절 때 쓰 지 마</div><div>            //보안이 취약하다. 변수일경우에 일일히 다 검사한다.</div><div>            //그보다 좋은건 PreparedStatement이다.</div><div>            //버퍼에 저장하고 검사하는거 안함.</div></div><div><br/></div><div><br/></div><div>JDBCInsertDeptDemo.java</div><div>static class. </div><div><br/></div><div><br/></div><hr/><div><br/></div><div>**스태틱을 쓰는 이유 : 한곳에서 계속 다른곳에서도 쓰기 위함</div><div>**스태틱 초기화 하는 이유 : 쌓여있기때문.</div><div><br/></div><div>/**</div><div>*</div><div>* 나누는 이유는 이 클래스 내에 책임을 주기 위함임.</div><div>*  </div><div>*/</div><div>public class MyConn {</div><div>    //스테틱초기화</div><div>    //초기자원 : 메인메서드보다 선행. (기초에서 변경)</div><div>    Connection conn;</div><div>    static{</div><div>        System.out.println(&quot;test&quot;);</div><div>        try {</div><div>            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);</div><div>        } catch (ClassNotFoundException ex) {</div><div>            ex.printStackTrace();}</div><div>    }</div><div>    public static void main(String[] args) {</div><div>        System.out.println(&quot;main&quot;);</div><div>    }</div><div>    </div><div>    public static Connection getConn() throws SQLException{</div><div>        String url = &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;</div><div>            String user = &quot;bigdata&quot;;</div><div>            String pwd = &quot;big&quot;;</div><div>            return DriverManager.getConnection(url, user, pwd);</div><div>    }</div><div>    </div><div>    //test 다음 main이 수행!</div></div><hr/><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>3일차</h1><b>작성자:</b> includesorrow@gmail.com<br/></td></tr></table></div><div><div><div><img src="1일차 [2]_files/KakaoTalk_20190128_093106974.jpg" type="image/jpeg" data-filename="KakaoTalk_20190128_093106974.jpg" width="717"/></div><div><br/></div><div><br/></div><div><br/></div><div>정리 : static이므로 하나만 존재하고 100번지든 200번지든 어디든 가지고 오더라도 static은 고유의 영역이므로 하나만 존재하고 전부 이걸 참조한다.</div><div><br/></div><div><img src="1일차 [2]_files/KakaoTalk_20190128_093341962.jpg" type="image/jpeg" data-filename="KakaoTalk_20190128_093341962.jpg" width="721"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/KakaoTalk_20190128_094538761.jpg" type="image/jpeg" data-filename="KakaoTalk_20190128_094538761.jpg" width="725"/></div><div><br/></div><div><br/></div><div><br/></div><div>select의 경우 데이터가 결과물임. </div><div>결과물이 인스턴스임.</div><div>결과물의 주소를 커서</div><div>커서 - 내가 내린 쿼리의 결과에 따른 인스턴스의 주소. </div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [22].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/KakaoTalk_20190128_102313995.jpg" type="image/jpeg" data-filename="KakaoTalk_20190128_102313995.jpg" width="632"/></div><hr/><div><br/></div><div>사용코드</div><div><br/></div><div><br/></div><div><br/></div><div>/*테이블명 gogek</div><div>gobun number(3)</div><div>goname varchar2(25)</div><div>gotel varchar2(34)</div><div>gojumin varchar2(14)</div><div>godam number(3)</div><div>pk : gobun</div><div>unique, notnull : jumin</div><div>foreign key godam -&gt; sawon.sabun</div><div>*/</div><div><br/></div><div>CREATE TABLE GOGEK(</div><div>gobun number(3),</div><div>goname varchar2(25),</div><div>gotel varchar2(34),</div><div>gojumin varchar2(14)constraint gogek_gojumin_nn NOT NULL,</div><div>godam number(3),</div><div><br/></div><div>constraint gogek_gobun_pk primary key(gobun),</div><div>constraint gogek_gojumin_uq unique(gojumin),</div><div><br/></div><div>constraint gogek_godam_fk foreign key (godam) references sawon(sabun)</div><div>);</div><div><br/></div><div>delete from dept;</div><div>delete from sawon;</div><div>commit;</div><div><br/></div><div>Insert Into Dept Values(10, '총무부','서울');</div><div>Insert Into Dept Values(20, '영업부','대전');</div><div>Insert Into Dept Values(30, '전산부','부산');</div><div>Insert Into Dept Values(40, '관리부', '광주');</div><div>Insert Into Dept Values(50, '개발부', '가산');</div><div><br/></div><div>Insert Into sawon Values(1,'김길동',10,'회장',5000,'1980/01/01','남자',null);</div><div>Insert Into sawon Values(2,'한국남',20,'부장',3000,'1988/11/01', '남자',1);</div><div>Insert Into sawon Values(3,'이순신',20,'과장',3500,'1985/03/01','남자', 2);</div><div>Insert Into sawon Values(5,'이순라',20,'사원',1200,'1990/05/01','여자', 3);</div><div>Insert Into sawon Values(7,'놀기만',20,'과장',2300,'1996/06/01','여자', 2);</div><div>Insert Into sawon Values(11,'류별나',20,'과장',1600,'1989/12/01','여자', 2);</div><div>Insert Into sawon Values(14,'채시라',20,'사원',3400,'1993/10/01','여자', 3);</div><div>Insert Into sawon Values(17,'이성계',30,'부장',2803,'1984/05/01','남자', 1);</div><div>Insert Into sawon Values(13,'무궁화',10,'부장',3000,'1996/11/01','여자', 1);</div><div>Insert Into sawon Values(19,'임꺽정',20,'사원',2200,'1988/04/01','남자', 7);</div><div>Insert Into sawon Values(20,'깨똥이',10,'과장',4500,'1990/05/01','남자', 13);</div><div>Insert Into sawon Values(6,'공부만',30,'과장',4003,'1995/05/01','남자', 17);</div><div>Insert Into sawon Values(8,'채송화',30,'대리',1703,'1992/06/01','여자', 17);</div><div>Insert Into sawon Values(12,'류명한',10,'대리',1800,'1990/10/01','남자', 20);</div><div>Insert Into sawon Values(9,'무궁화',10,'사원',1100,'1984/08/01','여자', 12);</div><div>Insert Into sawon Values(4,'이미라',30,'대리',2503,'1983/04/01','여자', 17);</div><div>Insert Into sawon Values(10,'공부해',30,'사원',1303,'1988/11/01','남자', 4);</div><div>Insert Into sawon Values(15,'구하라',10,'사원',2000,'1991/04/01','여자', 12);</div><div>Insert Into sawon Values(16,'김유신',30,'사원',400,'1981/04/01','남자', 4);</div><div>Insert Into sawon Values(18,'강감찬',30,'사원',1003,'1986/07/01','남자', 4);</div><div>Insert Into sawon Values(21,'김민희',50,'부장',4500,'2000/05/01','여자', 1);</div><div>Insert Into sawon Values(22,'홍실이',50,'과장',3500,'2001/11/01','여자', 21);</div><div>Insert Into sawon Values(23,'개발이',50,'대리',2500,'2002/08/01','남자', 22);</div><div>Insert Into sawon Values(24,'감수정',50,'사원',2000,'2010/05/11','남자', 23);</div><div><br/></div><div><br/></div><div>insert into gogek values(1,'류민', '123-1234', '700113-1537915',3);</div><div>insert into gogek values(2,'강민', '343-1454', '690216-1627914',2);</div><div>insert into gogek values(3,'영희', '144-1655', '750320-2636215',null);</div><div>insert into gogek values(4,'철이', '673-1674', '770430-1234567',4);</div><div>insert into gogek values(5,'류완', '123-1674', '720521-1123675',3);</div><div>insert into gogek values(6,'캔디', '673-1764', '650725-2534566',null);</div><div>insert into gogek values(7,'똘이', '176-7677', '630608-1648614',7);</div><div>insert into gogek values(8,'쇠돌', '673-6774', '800804-1346574',9);</div><div>insert into gogek values(9,'홍이', '767-1234', '731225-1234689',13);</div><div>insert into gogek values(10,'안나','767-1677', '751015-2432168',4);</div><div>insert into gogek values(11,'요나','767-1677', '041010-4142355',24);</div><div>insert into gogek values(12,'인군','767-1677', '031015-3112163',24);</div><div>commit;</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>--alias</div><div>select saname as 사원이름 from sawon;</div><div>--select column</div><div>--as 사원이름 &lt;&lt; 별칭을 만듬.</div><div><br/></div><div>select saname 사원이름 from sawon;</div><div><br/></div><div>select saname &quot;사원 이름&quot; from sawon;</div><div><br/></div><div>--쌍따옴표  쓰는 이유 : 혹시나 스페이스 사용할 수 있어서.</div><div><br/></div><div>--문자열 연결 연산자</div><div>select saname || '의 사원 번호는 ' || sabun || '입니다.'</div><div>from sawon;</div><div><br/></div><div>--이렇게 쓰면 불편하다.</div><div><br/></div><div>select saname || ' 의 급여는 '||sapay||' 입니다 이번달     보너스는'||sapay||'의 50%입니다.'    as 테스트</div><div>from sawon;</div><div><br/></div><div>---------------</div><div><br/></div><div>select saname || '의 사원 번호는 ' || sabun || '입니다.' as sainfo</div><div>from sawon;</div><div>--이렇게 쓰면 편-안</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>--비교연산자</div><div>select saname as 이름, sapay/12 as 월급 from sawon;</div><div>select saname, sapay/2 * 100 as 보너스 from sawon;</div><div>---조건 : 10번부서만 적용을 해야겠다</div><div>select saname, deptno, sapay/2 * 100 as 보너스</div><div>from sawon</div><div>where deptno = 10;</div><div>-- 2000 ~ 3000사이의 급여를 받는 사원을 출력</div><div>--and 연산자 or연산자</div><div><br/></div><div>select saname, sapay , deptno</div><div>from sawon</div><div>where sapay&gt;=2000 and sapay &lt;= 3000 and deptno = 10;</div><div><br/></div><div><br/></div><div>--부서번호가 10, 20부서만 출력하시오</div><div>SELECT saname, sapy, deptno</div><div>from sawon</div><div>where deptno = 10 or deptno = 20;</div><div>---in연산자 (or연산자가 더덕더덕)                                                                                                              </div><div>--in연산자, or을 사용하는것보다 프로그래미잉 수월해진다</div><div>--not in() -&gt; 필수적으로 이해해야 함</div><div>select saname, sapay, deptno</div><div>from sawon</div><div>where deptno in(10,20);</div><div><br/></div><div>select saname, sapay, deptno</div><div>from sawon</div><div>where deptno not in(10,20);</div><div><br/></div><div><br/></div><div>--like 문자열 연산자</div><div>-- % 어떤 여러 문자열</div><div>-- _ 어떤 한 문자열</div><div>-- 예) 이름중에 &quot;길&quot;이 들어가는 사원을 찾고 싶다</div><div><br/></div><div>select saname, sapay</div><div>from sawon</div><div>where saname like '%길%';</div><div><br/></div><div><br/></div><div>select saname</div><div>from sawon</div><div>where saname like '__이';</div><div><br/></div><div>--dual table : 가상 테이블</div><div>--한 행으로 결과를 출력하기 위한 가상 테이블</div><div>--산술연산, 가상의 컬럼 등의 값을 한번에 출력하기 위한 목적으로 사용</div><div>select 100* 2 result</div><div>from sawon;</div><div>--100 * 2 -&gt; 스키마가 되는 것. 24개가 출력.</div><div>select 100* 2 result</div><div>from sawon</div><div>where sabun = 1;</div><div>--이래도 되긴 함.근데 이건 잘못됨.</div><div>--근데 이건 결과가 24테이블이 나옴.</div><div><br/></div><div>select 100 * 2 result</div><div>from dual;</div><div>--이러면 내가 원하는 값이 1개만 나옴.</div><div>select 100 * 2 result</div><div>from dual;</div><div>desc dual;</div><div><br/></div><div><br/></div><div>--sysdate 오늘 날짜를 출력하자.</div><div>select sysdate from dual;</div><div>desc dual;</div><div>select * from dual;</div><div>-- X값나옴. 아무의미없는 ROW값이 존재함.    </div><div><br/></div><div>--숫자함수</div><div>select -10, abs(-10) from dual;</div><div>select sin(10), cos(10), tan(10) from dual;</div><div><br/></div><div><br/></div><div>--반올림</div><div>select round(999.999) as 확인 from dual;</div><div>select round(999.999,0) from dual;</div><div>select round(999.999,2) from dual;</div><div>select round(999.999,-2) from dual;</div><div>select round(888.888,9) from dual;</div><div><br/></div><div>--자리수를 지정한 버림</div><div>select trunc(888.999) from dual;</div><div>select trunc(888.999,0) from dual;</div><div>select trunc(888.999,2) from dual;</div><div>select trunc(888.999,-2) from dual;</div><div>--상한값(cell), 하한값(floor)</div><div>select ceil(10.001), floor(10.99) from dual;</div><div>--ceil 무조건올림</div><div>--floor 무조건내림</div><div><br/></div><div><br/></div><div><br/></div><div>--나눈 나머지 값</div><div>select mod(10,2) from dual;</div><div><br/></div><div><br/></div><div>--문자함수</div><div>--length 문자열의 길이를 구하는 함수</div><div>select length('kostaBigdataStudy Oracle') from dual;</div><div>--lower upper : 소문자/대문자</div><div>select lower('kostaBigdataStudy Oracle') from dual;</div><div><br/></div><div><br/></div><div>--initcap() : 문자열의 첫번째 문자만 대문자로 변환</div><div>select initcap('kostaBigdataStudy Oracle') from dual;</div><div>select * from nis_database_parameters where parameter like '%charcterset%';</div><div><br/></div><div>--AL32UTF8 : 한글 정렬 기능을 지원, 3바이트 공간을 차지함</div><div>select lengthb('kosta'), length('kosta') from dual;</div><div>--lengthb : 문자열의 바이트수를 변환</div><div>select lengthb('오라클'), length('오라클') from dual;</div><div><br/></div><div><br/></div><div>--문자열자르기 (trim), rtrin, ltrim</div><div>select trim(' kosta bigdata ' ), length( ' kosta bigdata ' ) ,length( trim (' kosta bigdata ' )) from dual;</div><div>--rtrim, ltrim으로 각각 잘라봅시다.</div><div>select length(rtrim('     kosta bigdata             ')), length(ltrim(' kosta bigdata    ')) from dual;</div><div><br/></div><div>select trim('*' from '*****kosta bigdata******') from dual;</div><div><br/></div><div><br/></div><div><br/></div><div>--instr(문자열,찾을문자열,검색시작,n번째)</div><div>--문자열 중에서 지정한 특정 문자가 포함된 위치를 반환하는 함수</div><div>select instr('kosta_kosta', 'k', 1,2) from dual;</div><div>select instr('kosta_kosta', 'k', -1,2) from dual;</div><div>select instr('kosta_kosta', 'k', 1,-2) from dual;</div><div><br/></div><div><br/></div><div><br/></div><div>--substr(문자열, n부터 n개)</div><div>--오라클 인덱스는 1부터 시작*******</div><div>select substr('Welcome to Oracle', 3) from dual;</div><div>select substr('Welcome to Oracle', 5,3) from dual;</div><div>select substr('Welcome to Oracle', -3,3) from dual;</div><div>select substr('Welcome to Oracle', 3,3) from dual;</div><div><br/></div><div><br/></div><div>create table memphone(</div><div>num number(3) constraint memphone_num_pk primary key,</div><div>name varchar2(20),</div><div>pnum varchar2(25));</div><div>create sequence memphone_seq</div><div>increment by 1</div><div>start with 1;</div><div>insert into memphone values(memphone_seq.nextVal,'대신귀', '02)567-1267');</div><div>insert into memphone values(memphone_seq.nextVal,'여운알', '032)567-1267');</div><div>insert into memphone values(memphone_seq.nextVal,'파카를', '051)567-1267');</div><div>insert into memphone values(memphone_seq.nextVal,'드리겠', '053)567-1267');</div><div>insert into memphone values(memphone_seq.nextVal,'습니다', '02)567-1267');</div><div><br/></div><div>--memberphone 테이블에서 사용자의 전화번호중에</div><div><br/></div><div>--사용자, 국번, 전화번호 형태로 출력하시오.</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>select name as 사용자</div><div>from memphone;</div><div><br/></div><div>select</div><div>substr(pnum,1,1) as 전화번호</div><div>from memphone;</div><div>---instr('kosta_kosta', 'k', 1,2)</div><div><br/></div><div>select instr(pnum,')',1,1) as 전화번호</div><div>from memphone;</div><div><br/></div><div>--------------------</div><div>select name,</div><div>substr(pnum,1,instr(pnum,')',1,1)-1),</div><div>substr(pnum, (instr(pnum,')',1,1)+1),10)</div><div>from memphone;</div><div><br/></div><div>--instr(문자열,찾을문자열,검색시작,n번째)</div><div>--문자열 중에서 지정한 특정 문자가 포함된 위치를 반환하는 함수</div><div>select instr('kosta_kosta', 'k', 1,2) from dual;</div><div>select instr('kosta_kosta', 'k', -1,2) from dual;</div><div>select instr('kosta_kosta', 'k', 1,-2) from dual;</div><div><br/></div><div><br/></div><div>--문자채우기 함수</div><div><br/></div><div>select rpad(saname,8,'★'), lpad(saname,8,'★') from sawon;</div><div>--강길동★★              ★★강길동</div><div><br/></div><div><br/></div><div>--select gojumin from gogek;</div><div>--이거연습문제. 주민뒷자리 가리는거</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>--decode함수  : oracle에서만 제공하는 SQL함수</div><div>--decode(기준값,조건1,결과1,조건2,결과2,......그외) &quot;컬럼&quot;</div><div>--case 함수 : decode의 기능을 확장한 함수</div><div>/*</div><div><br/></div><div>case [기준값] when 기준값 조건값1 then 결과1</div><div>when 기준값 조건값2 then 결과2</div><div>else 그 외의 결과값</div><div>end &quot;컬럼명&quot;</div><div>*/</div><div><br/></div><div>select saname, deptno,</div><div>case when deptno = 50 then '개발부'</div><div>when deptno = 20 then '영업부'</div><div>when deptno = 30 then '전산부'</div><div>else '총관리부'</div><div>end &quot;임시부서명&quot;</div><div>from sawon order by 2 asc;</div><div><br/></div><div><br/></div><div><br/></div><div>--차이 : decode 함수는 기준값을 비교하는 column값이 &quot;-&quot;비교를 통해서만 조건과 일치</div><div>--case : 산술, 논리, 관계 다양한 비교가 가능하다.</div><div><br/></div><div>select deptno, dname from dept;</div><div><br/></div><div><br/></div><div>--총무부의 사원들이 총무부 -&gt; 총관리부</div><div>--10번부서일 경우에 view가 총무부가 아닌 총관리부로 보여져야 할 때</div><div><br/></div><div>select saname, deptno, decode(deptno,10,'총관리부',20,'영업부',30,'전산부',40,'관리부',50,'전산부','총관리부')</div><div>&quot;임시부서명&quot;</div><div>from sawon</div><div>order by 2 asc;</div><div>-- order by asc : 오름차순, desc 내림차순.</div><div>--deptno를 기준으로 오름차순한거</div><div><br/></div><div><br/></div><div>select * from gogek;</div><div><br/></div><div><br/></div><div><br/></div><div>select * from gogek where godam is null;</div><div>select * from gogek where godam is not null;</div><div><br/></div><div>commit;</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>---------------------------------------------------------------------------</div><div>select '부서번호'||deptno as deptno</div><div>, saname||'님의 급여는'||sapay||'입니다.' as message</div><div>from sawon</div><div>where sapay&gt;=2000 and sapay&lt;=3000;</div><div><br/></div><div><br/></div><div>-------------------------------------</div><div>select saname as 사원명, sapay as 급여, round(sapay/12,-1)  as 월급, sapay/ 1000 * 33*10000 as 세금</div><div>from sawon;</div><div>select round(999.999,0) from dual;</div><div><br/></div><div><br/></div><div>select (RPAD(gojumin,7,'*') ||'*******')</div><div>from gogek;</div><div><br/></div><div>-------------------------</div><div>select goname,gojumin,</div><div>case when substr(gojumin, (instr(gojumin,'-',1,1)+1),1) =1 then '남자'</div><div>else '여자'</div><div>end &quot;성별&quot;</div><div>from gogek;</div><div>----------------</div><div><br/></div><div>select saname, deptno,</div><div>case when deptno = 50 then '개발부'</div><div>when deptno = 20 then '영업부'</div><div>when deptno = 30 then '전산부'</div><div>else '총관리부'</div><div>end &quot;임시부서명&quot;</div><div>from sawon order by 2 asc;</div><div><br/></div><div>-----------------------------</div><div><br/></div><div>select saname, sapay,</div><div>case when sapay &lt; 1000 then sapay*0.1</div><div>when sapay &gt;=1000 and sapay &lt; 2000 then sapay*0.15</div><div>else sapay*0.2</div><div>end &quot;보너스&quot;</div><div>from sawon;</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div></div></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>4일차</h1><b>작성자:</b> includesorrow@gmail.com<br/></td></tr></table></div><div><div><div><br/></div><div>-2티어</div><div>jdbc   &lt;           -           &gt;    DBMS</div><div><br/></div><div><br/></div><div>-3티어</div><div>APP  &lt;            -         &gt;          JDBC            &lt;            -          &gt;      DBMS</div><div>                                        미들웨어(중계기)</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>            Front(end) &amp; Controller</div><div>Client UI         |    SERVER  (=SERVICE)               Data Access Object (싱글톤으로 처리)</div><div>                       |    Model  -&gt;  DAO</div><div>                       |   -&gt; DTO(VO)</div><div>                       |</div><div>                       |</div><div>                       |</div><div>   </div><div><br/></div><div><br/></div><div>우리는 어케할꺼냐면</div><div><br/></div><div>Client UI -&gt; t -&gt; dao -&gt; dto  </div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>서버</div><div>쓰레드 쓰는 이유 : 블로킹메소드</div><div><br/></div></div><div><br/></div></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>5일차</h1><b>작성자:</b> includesorrow@gmail.com<br/></td></tr></table></div><div><div><div> Sub Query</div><ul><li><div>하나 이상의 테이블에서 검색한 결과를 다른 테이블에 전달해서 새로운 결과를 검색하는 경우에 사용한다.</div></li><li><div>Inner쿼리 먼저 수행. 밖이 2번.</div></li><li><div>서브쿼리와 view를 구분할줄 알아야 함</div></li></ul><div><br/></div><ul><li><div>단일행 서브쿼리</div></li><ul><li><div>서브쿼리의 결과가 하나의 행만 수행할 때 사용</div></li></ul></ul><ul><li><div>다중행 서브쿼리</div></li><ul><li><div><br/></div></li></ul></ul><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [23].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [24].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>컬럼라인수를조절</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [25].png" type="image/png" data-filename="Image.png"/></div><ul><li><div>계정이없고 잠겨있다.</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [26].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>View</div><div><br/></div><ul><li><div>**OR replace : 같은 이름의 뷰가 있을 경우 삭제하고 다시 생성합니다. <br/></div></li><li><div>**WITH CHECK OPTION : 주여진 제약조건에 맞는 데이터만 입력 및 수정을 허용합니다</div></li><li><div>**WITH READ ONLY : SELECT만 가능한 읽기 전용 뷰를 생성합니다.</div></li><li><div>복잡한 코드를 단순화 시킬 때도 view를 사용한다.</div></li></ul><div><br/></div><ul><li><div>단순 뷰 : </div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [27].png" type="image/png" data-filename="Image.png"/></div><div><img src="1일차 [2]_files/Image [28].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [29].png" type="image/png" data-filename="Image.png"/></div><ul><li><div>안된다.</div></li><li><div><br/></div></li></ul><div><br/></div><div><img src="1일차 [2]_files/Image [30].png" type="image/png" data-filename="Image.png"/></div><div>권한을 부여받아야 사용 가능</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [31].png" type="image/png" data-filename="Image.png"/></div><ul><li><div>권한이 부여받은걸 확인할 수 있다.</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [32].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [33].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>6일차</h1><b>작성자:</b> includesorrow@gmail.com<br/></td></tr></table></div><div><div><div><div>PL / SQL </div><ul><li><div>커서</div></li><ul><li><div>인터페이스등에사용</div></li><li><div>FOR A IN LOOP</div></li><li><div>--명시적 커서의 OPEN,FETCH가 자동적으로 수행 됨</div></li><li><div>STATEMENT1;</div></li><li><div>STATEMENT2;</div></li><li><div>.....</div></li><li><div>END LOOP;</div></li></ul></ul><div><br/></div><div><br/></div><ul><ul><li><div>DBMS_OPT.PUT_LINE &lt; SYSOUT</div></li></ul></ul><div>프로시저는 IN / OUT밖에 없고</div><div>다른건 RETURN이 있다. (public void 등)</div><div><br/></div></div><div><br/></div><div><img src="1일차 [2]_files/Image [34].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [35].png" type="image/png" data-filename="Image.png" width="405"/></div><div><br/></div><div><img src="1일차 [2]_files/Image [36].png" type="image/png" data-filename="Image.png"/> </div><div><br/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [37].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [38].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div>accept bun prompt '사원번호 입력 :'</div><div>declare</div><div>    vsabun sawon.sabun%type;</div><div>    vsaname sawon.saname%type;</div><div>    vsapay sawon.sapay%type;</div><div><br/></div><div>begin</div><div><br/></div><div>    --select ~ into : into 뒤에 기술한 변수에 select 값을 대입</div><div>    select sabun, saname, sapay into vsabun, vsaname, vsapay</div><div>    from sawon where sabun = &amp;bun;</div><div>    --출력</div><div>    dbms_output.put_line('실행결과');</div><div>    dbms_output.put_line('사원번호 : '||vsabun);</div><div>    dbms_output.put_line('이름 : '|| vsaname);</div><div>    dbms_output.put_line('급여 : '|| vsapay);</div><div>    </div><div><br/></div><div>end;</div><div>/</div><hr/><div><br/></div><div><img src="1일차 [2]_files/Image [39].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><hr/><div>accept bun prompt '사원번호 입력 :'</div><div>declare</div><div>    vsawon sawon%rowtype;</div><div>begin</div><div><br/></div><div>    --select ~ into : into 뒤에 기술한 변수에 select 값을 대입</div><div>    select * into vsawon</div><div>    from sawon where sabun = &amp;bun;</div><div>    --출력</div><div>    dbms_output.put_line('실행결과');</div><div>    dbms_output.put_line('사원번호 : '||vsawon.sabun);</div><div>    dbms_output.put_line('이름 : '|| vsawon.saname);</div><div>    dbms_output.put_line('직책 : '|| vsawon.sajob);</div><div>    dbms_output.put_line('급여 : '|| vsawon.sapay);</div><div>    </div><div><br/></div><div>end;</div><div>/</div><div><img src="1일차 [2]_files/Image [40].png" type="image/png" data-filename="Image.png"/></div><hr/><div>/*</div><div>    사원테이블에서 입력받은 사원의 평균 급여를 계산해주는 PL/SQL을 만드시오.</div><div>    단, %TYPE을 써서 작성해보기</div><div>*/</div><div><br/></div><div>accept bun prompt '부서번호'</div><div>declare</div><div>    vdeptno sawon.deptno%type;</div><div>    vdname dept.dname%type;</div><div>    vavg sawon.sapay%type;</div><div><br/></div><div><br/></div><div>begin    </div><div>    select s.deptno deptno, d.dname dname , avg(nvl(s.sapay,0))</div><div>    into vdeptno, vdname, vavg</div><div>    from sawon s, dept d where s.deptno = d.deptno and s.deptno = &amp;bun</div><div>    group by s.deptno, d.dname;</div><div>    ----출력</div><div>    dbms_output.put_line('실행결과');</div><div>        dbms_output.put_line('부서번호 : '||vdeptno);</div><div>        dbms_output.put_line('이름 : '|| vdname);</div><div>        dbms_output.put_line('직책 : '|| vavg);</div><div>end;</div><div><br/></div><div>/</div><div><br/></div><hr/><div><br/></div><div>PL/SQL 한번실행하면 땡</div><div>PROCEDURE (프로시저) - 메모리에 저장함.</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [41].png" type="image/png" data-filename="Image.png"/></div><div><img src="1일차 [2]_files/Image [42].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [43].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><img src="1일차 [2]_files/Image [44].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><hr/><div><img src="1일차 [2]_files/Image [45].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><img src="1일차 [2]_files/Image [46].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [47].png" type="image/png" data-filename="Image.png"/></div><div><img src="1일차 [2]_files/Image [48].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><hr/><div>트리거</div><div>/*****</div><div>Trigger(트리거)</div><div>지정한 이벤트 (DML)가 발생하면 수행되는 명령어들을 포함하는 객체</div><div>호출문이 없다 (자동호출)</div><div>데이터 흐름 제어명령(TCL)은 사용할 수 없다!</div><div>목적</div><div>1. 데이터 무결성 구현 (제한조건으로 구현할 수 없는 경우)</div><div>2. 업무 자동화 (연금계산, 급여계산,..회계관리 등 연쇄작용하는 업무에 많이 사용)</div><div>3. 보안 (감사)성 강화하는데 사용 (이벤트를 발생한 유저 기록 관리)</div><div>4. 데이터 복제 구현</div><div>형식</div><div>create or replace trigger t1</div><div>[before|after] insert or delete or update on table_name</div><div>for each row ***행 단위의 트리거</div><div>declare</div><div>지역변수 선언;</div><div>begin</div><div>명령;</div><div>end;</div><div><br/></div><div>old.컬럼명 : 삭제된 행의 컬럼값, 행 단위 트리거에서만 사용 가능! 이전 데이터</div><div>new.컬럼명 : SQL 반영이된 이후에 컬럼 데이터</div><div><br/></div><div>create table gogek_ex as select * from gogek;</div><div>*/</div><div><br/></div><div>create or replace trigger gogek_i</div><div>    after insert on gogek</div><div>    for each row</div><div><br/></div><div>begin</div><div><br/></div><div>    insert into gogek_ex</div><div>    values(:new.gobun,:new.goname,:new.gotel,:new.gojumin,:new.godam);</div><div>end;</div><div>/</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [49].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>/*****</div><div>Trigger(트리거)</div><div>지정한 이벤트 (DML)가 발생하면 수행되는 명령어들을 포함하는 객체</div><div>호출문이 없다 (자동호출)</div><div>데이터 흐름 제어명령(TCL)은 사용할 수 없다!</div><div>목적</div><div>1. 데이터 무결성 구현 (제한조건으로 구현할 수 없는 경우)</div><div>2. 업무 자동화 (연금계산, 급여계산,..회계관리 등 연쇄작용하는 업무에 많이 사용)</div><div>3. 보안 (감사)성 강화하는데 사용 (이벤트를 발생한 유저 기록 관리)  </div><div>4. 데이터 복제 구현</div><div>형식</div><div>create or replace trigger t1</div><div>[before|after] insert or delete or update on table_name</div><div>for each row ***행 단위의 트리거</div><div>declare</div><div>지역변수 선언;</div><div>begin</div><div>명령;</div><div>end;</div><div><br/></div><div>old.컬럼명 : 삭제된 행의 컬럼값, 행 단위 트리거에서만 사용 가능! 이전 데이터</div><div>new.컬럼명 : SQL 반영이된 이후에 컬럼 데이터</div><div><br/></div><div>create table gogek_ex as select * from gogek;</div><div>*/</div><div><br/></div><div>create or replace trigger gogek_d</div><div>    after delete on gogek</div><div>    for each row</div><div><br/></div><div>begin</div><div><br/></div><div>    delete(:old.gobun,:old.goname,:old.gotel,:old.gojumin,:old.godam);</div><div>end;</div><div>/</div><div><br/></div><div><br/></div><div><img src="1일차 [2]_files/Image [50].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div></div><br/></div></span>
</div></body></html> 