<html>
<head>
  <title>2일차</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308474 (ko-KR, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="847"/>
<h1>2일차</h1>

<div>
<span><div><div><div><div><div><div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">DQL (Query)</span></div><div><br/></div><ul><li><div>Querry Language</div></li></ul><div><br/></div><div><br/></div><ul><li><div>Select(데이터 검색)</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">DML (조작)</span></div><ul><li><div>*****Insert, Update, delete</div></li><li><div>데이터 자료와 관련되어 있음. </div></li><li><div>Commit을 하지 않으면 복구할 수 있다. </div></li></ul><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">DDL(정의어)</span></div><ul><li><div>Create Drop등</div></li><li><div>TCL 중에 Commit이 내장되어 있다. Rename하더라도 기존의 작업이 Commit이 되버린다.</div></li><li><div><br/></div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>Commit</div><ul><ul><li><div>정상적으로 처리하겠다는 구문. 이거 안하면 저장안됨.</div></li></ul></ul><div><br/></div><div>딕셔너리</div><div><img src="2일차_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>DBA내에 있으면 DBA만 가능</div><div><br/></div><div><br/></div><div>User</div><ul><li><div>권한을 주기 전에는 본인것만 가능.</div></li><li><div>Resource. </div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>부서</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr></tbody></table><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>사원</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr></tbody></table><div><br/></div></div></div><div>부서에서 사원을 볼때 참조키, JOIN 등을 한다.</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>sqlplus bigdata/big</div><div><br/></div><div><br/></div><div><br/></div><div>show user</div><div><br/></div><div>ed create_Dept</div><ul><li><div>deptno number(3),</div></li><li><div>dname varchar2(14),</div></li><li><div>loc varchar2(12)</div></li><li><div>);</div></li></ul><div><br/></div><div><br/></div><div>*****제약조건 : 테이블 생성시 테이블 단위의 제약조건과 컬럼단위의 제약조건의 못옴.</div><div>단, not null은 Column단위의 제약조건만 허용</div><div><br/></div><div><br/></div><ul><li><div>select * from tab;</div></li><li><div>select tname, tabtype from tab;</div></li></ul><div><br/></div><div>주석다는법 : --</div><div><br/></div><div><br/></div><div><img src="2일차_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div>select * from tab; 목록확인</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>테이블 구조 확인</div><div>desc dept</div><div><img src="2일차_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><ul><li><div>DEPTNO = 정수</div></li><li><div>DNAME = </div></li></ul><div><br/></div><div><br/></div><div>기본 dept 테이블에 자료를 입력해보자.</div><div><br/></div><div>Insert into (컬럼명, 컬럼명, ....) values(값, 값...) : not null은 생략될 수 없다.</div><div><br/></div><ul><li><div>문자열의 경우는 ' '</div></li><li><div>정수나 함수는 그냥 사용</div></li><li><div><br/></div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>Insert into values(컬럼의 순서대로 값을 입력)</div><div><br/></div><div><img src="2일차_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><img src="2일차_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="2일차_files/Image [5].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>rollback =&gt; 커밋이 되는 구간전까지 .</div><div><br/></div><hr/><div>테이블삭제</div><div><br/></div><div><br/></div><div><img src="2일차_files/Image [6].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><ul><li><div>휴지통에 남아있는 상태.</div></li></ul><div><br/></div><hr/><div>휴지통비우기</div><div><br/></div><div><img src="2일차_files/Image [7].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><hr/><div><br/></div><div>제약조건넣기</div><div><font style="font-size: 18pt;"><br/></font></div><div><span style="font-size: 18pt;">--create table dept(</span></div><div><span style="font-size: 18pt;">--deptno number(3),</span></div><div><span style="font-size: 18pt;">--dname varchar2(14),</span></div><div><span style="font-size: 18pt;">--loc varchar2(12)</span></div><div><span style="font-size: 18pt;">--);</span></div><div><span style="font-size: 18pt;">--제약조건을 명시한 테이블 생성</span></div><div><font style="font-size: 16pt;"><br/></font></div><div><span style="font-size: 16pt;">create table</span> <span style="font-size: 16pt; font-weight: bold;">dept</span><span style="font-size: 16pt;">(</span></div><div><span style="font-size: 16pt; color: rgb(255, 70, 53);">deptno</span> <span style="font-size: 16pt;">number(3) constraint dept_deptno_pk primary key, //컬람단위의 제약조건</span></div><div><font style="font-size: 16pt;"><br/></font></div><div><span style="font-size: 16pt;">dname varchar2(14),</span></div><div><span style="font-size: 16pt;">loc varchar2(12),</span></div><div><span style="font-size: 16pt;">constraint</span> <span style="font-size: 16pt; font-weight: bold;">dept</span><span style="font-size: 16pt;">_</span><span style="font-size: 16pt; color: rgb(255, 70, 53);">deptno</span><span style="font-size: 16pt;">_pk primary key(deptno),//테이블단위의 제약조건</span></div><div><span style="font-size: 16pt;">constraint dept_dname_uq unique(dname)</span></div><div><span style="font-size: 14pt;">);</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt;">UNIQUE : 이 조건이 설정된 컬럼에는 중복된 값이 입력되지 못하도록 한다.</span></div><div><span style="font-size: 14pt;">PRIMARY KEY : 이 조건은 NOT NULL + UNIQUE의 특징을 가지며, 테이블끼리의 유일성을 가지게 한다.</span></div><div><br/></div><div><br/></div><hr/><div>제약조건확인</div><div><br/></div><div><br/></div><div>2가지</div><div><br/></div><div><img src="2일차_files/Image [8].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="2일차_files/Image [9].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>유저의 권한 : 딕셔너리</div><div><br/></div><div>-&gt; 아무나 볼 수 업는 딕셔너리. 소유의 권한이 있다.</div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div>**dept no 는 notnull</div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div>유니크는 null을 허용한다.</div><div><br/></div><div>중복은 허용하지 않는다.</div><div><br/></div><div>primarykey는 null 중복 다 비허용</div><div><br/></div><div>테스트 시연</div><div><br/></div><div><img src="2일차_files/Image [10].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div>친숙해지기</div><div><br/></div><div>데이터삭제</div><div><br/></div><div><img src="2일차_files/Image [11].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div>**commit은 필수</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>데이터 중복</div><div><br/></div><div><br/></div><div><img src="2일차_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>오늘할일</div><div>테이블제약조건</div><div>*JDBC연동 - insert문만구현</div><div><br/></div><div>*연습문제) 사원 테이블</div><div>*JDBC 연동해서 INSERT문 구현</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>오전에 중요한거</div><div><br/></div><div><img src="2일차_files/Image [13].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div>부서번호</div><div>부서이름</div><div>부서지역</div><div><br/></div><div><br/></div><div>부서가 부모</div><div>게시판은 부모고 댓글이 </div><div><br/></div><div>참조한다는것은 자식이 부모를 참조하는거임</div><div><br/></div><div>테이블간의 관계가있다</div><div>기본관계는 부모의 프라이머리키를 자식의 PK로 참조하지 않는거임.</div><ul><li><div>비식별관계</div></li></ul><div><br/></div><div><br/></div><div>테이블단위, 컬럼단위로 primary</div><div>낫넛은 테이블단위는 안됨.</div><div><br/></div></div><div><br/></div><div><img src="2일차_files/KakaoTalk_20190125_144018873.jpg" type="image/jpeg" data-filename="KakaoTalk_20190125_144018873.jpg"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div>사원테이블 만들기</div><ul><li><div>Char(고정)</div></li><li><div>varChar2(가변길이)</div></li></ul><div><br/></div><div>Char는 10으로 설정하고 5만 넣어도 10임</div><div>varchar2는 20으로 설정하고 10만 넣으면 10임. 대신 20이 넘으면 오버플로우 발생</div><div><br/></div><div><br/></div><div>create table sawon(</div><div>sabun number(3),</div><div>saname varchar2(30),</div><div>deptno number(3),</div><div>sajob varchar2(20),</div><div>sapay number(10),</div><div>sahire date default sysdate,</div><div>sgender varchar2(5),</div><div>samgr number(3),</div><div><br/></div><div><br/></div><div><br/></div><div>constraint sawon_sabun_pk primary key(sabun),</div><div><br/></div><div><br/></div><div>sawon에 sabun에 pk(이건 무슨제약인지 알기위해)</div><div><br/></div><div><img src="2일차_files/Image [14].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-weight: bold;">JDBC</span></font></div><div><br/></div><div>JDBC사용 (절차 - 소스코드 참조)</div><div><br/></div><ul><li><div>Ojdbc6.jar 라이브러리를 프로젝트에 포함</div></li><li><div>라이브러리 - 오른쪽 - (add jar)</div></li></ul><div><br/></div><div><br/></div><div><br/></div><div>// 1. JDBC 드라이버 연결 - 클래스로딩</div><div>            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);</div><div>            // 2. Connection 획득 - 기능에 따라서 객체화시켜줌.</div><div>            //여기에 newinstance()가 캡슐화가 되어있다.</div><div>            String url = &quot;jdbc:oracle:thin:@localhost:15221:xe&quot;;</div><div>            String user = &quot;bigdata&quot;;</div><div>            String pwd = &quot;big&quot;;</div><div>            con = DriverManager.getConnection(url, user, pwd);</div><div>            </div><div>            //3. PreparedStatement 값을 바인딩(?)한다.</div><div>            String sql = &quot;&quot;;</div><div>            pstmt = con.prepareStatement(sql);</div><div>            //PreparedStatement 객체를 사용해서 전송</div><div>            System.out.println(&quot;출력&quot;  + con);</div><div>            //Connectionoracle.jdbc.driver.T4CConnection@4629104a</div><div>            //Statement 객체 이건 절 때 쓰 지 마</div><div>            //보안이 취약하다. 변수일경우에 일일히 다 검사한다.</div><div>            //그보다 좋은건 PreparedStatement이다.</div><div>            //버퍼에 저장하고 검사하는거 안함.</div></div><div><br/></div><div><br/></div><div>JDBCInsertDeptDemo.java</div><div>static class. </div><div><br/></div><div><br/></div><hr/><div><br/></div><div>**스태틱을 쓰는 이유 : 한곳에서 계속 다른곳에서도 쓰기 위함</div><div>**스태틱 초기화 하는 이유 : 쌓여있기때문.</div><div><br/></div><div>/**</div><div>*</div><div>* 나누는 이유는 이 클래스 내에 책임을 주기 위함임.</div><div>*  </div><div>*/</div><div>public class MyConn {</div><div>    //스테틱초기화</div><div>    //초기자원 : 메인메서드보다 선행. (기초에서 변경)</div><div>    Connection conn;</div><div>    static{</div><div>        System.out.println(&quot;test&quot;);</div><div>        try {</div><div>            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);</div><div>        } catch (ClassNotFoundException ex) {</div><div>            ex.printStackTrace();}</div><div>    }</div><div>    public static void main(String[] args) {</div><div>        System.out.println(&quot;main&quot;);</div><div>    }</div><div>    </div><div>    public static Connection getConn() throws SQLException{</div><div>        String url = &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;</div><div>            String user = &quot;bigdata&quot;;</div><div>            String pwd = &quot;big&quot;;</div><div>            return DriverManager.getConnection(url, user, pwd);</div><div>    }</div><div>    </div><div>    //test 다음 main이 수행!</div></div><hr/><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 